{"ast":null,"code":"var _jsxFileName = \"/Users/sebastian/Desktop/mapa-social-sin-claves/mapa-social/src/componentes/Menu.js\";\nimport React, { Component } from 'react';\nimport { getToken, apiPath } from './funciones';\n\nclass Menu extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      menu: []\n    };\n    this.salir = this.salir.bind(this);\n  }\n\n  componentDidMount() {\n    this.fetchData();\n    var timer = 30000;\n    this.interval = setInterval(() => {\n      this.fetchData();\n    }, timer);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  salir(e) {\n    localStorage.clear();\n    window.location.reload(true);\n    e.stopPropagation();\n  }\n\n  fetchData() {\n    fetch(apiPath() + '/users/menu', {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': getToken()\n      }\n    }).then(response => response.json()).then(data => this.comprobacion(data));\n  }\n\n  comprobacion(data) {\n    if (data !== null && data.aut !== false) {\n      this.setState({\n        menu: data\n      });\n    } else {//salir();\n    }\n  }\n  /* eslint-disable array-callback-return */\n\n\n  desplegarMenu() {\n    return this.state.menu.map(m => {\n      return React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: true,\n        \"data-m\": m.id,\n        onClick: this.props.onClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: m.icono,\n        \"data-m\": m.id,\n        onClick: this.props.onClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        \"data-m\": m.id,\n        onClick: this.props.onClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, m.des)));\n    });\n  }\n  /* eslint-enable array-callback-return */\n\n\n  render() {\n    return React.createElement(\"aside\", {\n      id: \"sidebar-left\",\n      className: \"sidebar-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"sidebar-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"sidebar-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, \"Menu\"), React.createElement(\"div\", {\n      className: \"sidebar-toggle hidden-xs\",\n      \"data-toggle-class\": \"sidebar-left-collapsed\",\n      \"data-target\": \"html\",\n      \"data-fire-event\": \"sidebar-left-toggle\",\n      id: \"menusbl\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-bars\",\n      \"aria-label\": \"Toggle sidebar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"nano\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"nano-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"nav\", {\n      id: \"menu\",\n      className: \"nav-main\",\n      role: \"navigation\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      className: \"nav nav-main\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: true,\n      onClick: this.salir,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-power-off\",\n      onClick: this.salir,\n      \"aria-hidden\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      onClick: this.salir,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"Salir\"))), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: true,\n      \"data-m\": \"0\",\n      onClick: this.props.onClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-home\",\n      \"data-m\": \"0\",\n      onClick: this.props.onClick,\n      \"aria-hidden\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      \"data-m\": \"0\",\n      onClick: this.props.onClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"Inicio\"))), this.desplegarMenu())), React.createElement(\"hr\", {\n      className: \"separator\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default Menu;","map":{"version":3,"sources":["/Users/sebastian/Desktop/mapa-social-sin-claves/mapa-social/src/componentes/Menu.js"],"names":["React","Component","getToken","apiPath","Menu","constructor","props","state","menu","salir","bind","componentDidMount","fetchData","timer","interval","setInterval","componentWillUnmount","clearInterval","e","localStorage","clear","window","location","reload","stopPropagation","fetch","method","headers","then","response","json","data","comprobacion","aut","setState","desplegarMenu","map","m","id","onClick","icono","des","render"],"mappings":"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","sourcesContent":["\nimport React, { Component } from 'react';\nimport { getToken, apiPath } from './funciones';\nclass Menu extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            menu: []\n        };\n        this.salir = this.salir.bind(this);\n    }\n    componentDidMount() {\n        this.fetchData();\n        var timer = 30000;\n        this.interval = setInterval(() => {\n            this.fetchData();\n        }, timer);\n    }\n    componentWillUnmount() {\n        clearInterval(this.interval);\n    }\n    salir(e) {\n        localStorage.clear();\n        window.location.reload(true);\n        e.stopPropagation();\n    }\n\n    fetchData() {\n        fetch(apiPath() + '/users/menu', {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': getToken()\n            },\n        })\n            .then(response => response.json())\n            .then(data => this.comprobacion(data));\n    }\n\n    comprobacion(data) {\n        if (data !== null && data.aut !== false) {\n            this.setState({ menu: data })\n        }\n        else {\n            //salir();\n        }\n    }\n    /* eslint-disable array-callback-return */\n    desplegarMenu() {\n        return (this.state.menu.map(m => {\n            return (\n                <li >\n                    <a href data-m={m.id} onClick={this.props.onClick} >\n                        <i className={m.icono} data-m={m.id} onClick={this.props.onClick}></i>\n                        <span data-m={m.id} onClick={this.props.onClick}>{m.des}</span>\n                    </a>\n                </li>)\n        }))\n    }\n    /* eslint-enable array-callback-return */\n    render() {\n        return (\n            <aside id=\"sidebar-left\" className=\"sidebar-left\">\n                <div className=\"sidebar-header\">\n                    <div className=\"sidebar-title\">\n                        Menu\n\t\t\t\t\t\t</div>\n                    <div className=\"sidebar-toggle hidden-xs\" data-toggle-class=\"sidebar-left-collapsed\" data-target=\"html\" data-fire-event=\"sidebar-left-toggle\" id=\"menusbl\" >\n                        <i className=\"fa fa-bars\" aria-label=\"Toggle sidebar\"></i>\n                    </div>\n                </div>\n                <div className=\"nano\">\n                    <div className=\"nano-content\">\n                        <nav id=\"menu\" className=\"nav-main\" role=\"navigation\">\n                            <ul className=\"nav nav-main\">\n                                <li >\n                                    <a href onClick={this.salir} >\n                                        <i className=\"fa fa-power-off\" onClick={this.salir} aria-hidden=\"true\"></i>\n                                        <span onClick={this.salir}>Salir</span>\n                                    </a>\n                                </li>\n                                <li >\n                                    <a href data-m=\"0\" onClick={this.props.onClick}>\n                                        <i className=\"fa fa-home\" data-m=\"0\" onClick={this.props.onClick} aria-hidden=\"true\"></i>\n                                        <span data-m=\"0\" onClick={this.props.onClick}>Inicio</span>\n                                    </a>\n                                </li>\n                                {this.desplegarMenu()}\n                            </ul>\n                        </nav>\n                        <hr className=\"separator\" />\n                    </div>\n                </div>\n            </aside>\n        );\n    }\n}\nexport default Menu;\n"]},"metadata":{},"sourceType":"module"}